<?php
    /** @noinspection PhpUnhandledExceptionInspection */

    use Blog\Component\Post\Body\Short\View\ViewInterface;
    /** @var ViewInterface $this */

    echo $this->getResourceRenderer()->toString();
?>

<div data-gi-css="<?php echo $this->getClientCSS()->toString(); ?>" data-gi-id="text">
    <?php $text = $this->getPost()->getText(); ?>
    <?php $length = $this->getLength(); ?>
    <?php echo $this->getMarkupTextProcessor()->setText($text)->cutAsText($length)->escapeAndReplaceEOLWithBr()->getText(); ?>
    (<a href="<?php echo $this->blogGetRouteTree()->getPostTree()->buildDetailWithId($this->getPost()->getID()); ?>" class="more-link">
        <?php echo $this->translate('More...'); ?>
    </a>)
</div>
